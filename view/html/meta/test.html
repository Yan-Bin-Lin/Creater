<!DOCTYPE html>
<html lang="zh-TW">
<head>

    <title></title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">



    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
          crossorigin="anonymous">

    <link href="css/blog-post.css" rel="stylesheet">
    <style>
        .hide {
            display: none;
        }


        footer {
            position: relative;
            margin-top: 1rem;
        }
    </style>

</head>
<body>


<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/">Creater</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <div class="input-group my-1 hide">
                <input type="text" class="form-control" placeholder="Search for...">
                <span class="input-group-append">
                <button class="btn btn-secondary" type="button">Go!</button>
              </span>
            </div>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active hide">
                    <a class="nav-link" href="#">Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">登入</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">發文</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="meta" class="hide">
    [{&#34;ouniquename&#34;:&#34;uniname&#34;,&#34;nickname&#34;:&#34;nickname&#34;,&#34;bid&#34;:15,&#34;boid&#34;:1,&#34;bname&#34;:&#34;c2&#34;,&#34;bsuper&#34;:2,&#34;blike&#34;:0,&#34;bhate&#34;:0,&#34;bviewtime&#34;:0,&#34;bdescription&#34;:&#34;c2,34&#34;,&#34;btype&#34;:2,&#34;burlpath&#34;:&#34;/uniname/b1/b2/c2&#34;,&#34;bcreatetime&#34;:&#34;2020-06-26T14:19:22&#43;08:00&#34;,&#34;bupdatetime&#34;:&#34;2020-06-26T17:29:50&#43;08:00&#34;},{&#34;ouniquename&#34;:&#34;uniname&#34;,&#34;nickname&#34;:&#34;nickname&#34;,&#34;bid&#34;:14,&#34;boid&#34;:1,&#34;bname&#34;:&#34;article&#34;,&#34;bsuper&#34;:7,&#34;blike&#34;:0,&#34;bhate&#34;:0,&#34;bviewtime&#34;:0,&#34;bdescription&#34;:&#34;article&#34;,&#34;btype&#34;:2,&#34;burlpath&#34;:&#34;/uniname/newproject/blog/article&#34;,&#34;bcreatetime&#34;:&#34;2020-06-25T11:16:53&#43;08:00&#34;,&#34;bupdatetime&#34;:&#34;2020-06-25T11:16:53&#43;08:00&#34;},{&#34;ouniquename&#34;:&#34;uniname&#34;,&#34;nickname&#34;:&#34;nickname&#34;,&#34;bid&#34;:4,&#34;boid&#34;:1,&#34;bname&#34;:&#34;test&#34;,&#34;bsuper&#34;:0,&#34;blike&#34;:0,&#34;bhate&#34;:0,&#34;bviewtime&#34;:0,&#34;bdescription&#34;:&#34;123&#34;,&#34;btype&#34;:2,&#34;burlpath&#34;:&#34;/uniname/test&#34;,&#34;bcreatetime&#34;:&#34;2020-06-24T16:26:52&#43;08:00&#34;,&#34;bupdatetime&#34;:&#34;2020-06-24T16:26:52&#43;08:00&#34;},{&#34;ouniquename&#34;:&#34;uniname&#34;,&#34;nickname&#34;:&#34;nickname&#34;,&#34;bid&#34;:3,&#34;boid&#34;:1,&#34;bname&#34;:&#34;b3&#34;,&#34;bsuper&#34;:2,&#34;blike&#34;:0,&#34;bhate&#34;:0,&#34;bviewtime&#34;:0,&#34;bdescription&#34;:&#34;3&#34;,&#34;btype&#34;:2,&#34;burlpath&#34;:&#34;/uniname/b1/b2/b3&#34;,&#34;bcreatetime&#34;:&#34;2020-06-22T18:42:47&#43;08:00&#34;,&#34;bupdatetime&#34;:&#34;2020-06-24T09:52:40&#43;08:00&#34;}]
</div>


<div class="container">

    <div class="row">

        <div class="col-lg-8">
            <div class="card my-4">

                <h1 class="card-header">Creater</h1>

                <div class="card-body">

                    <h5 class="card-subtitle mb-2">
                        <a href="/" class="text-dark">

                            <span class="text-muted">
                                @
                            </span>
                        </a>
                    </h5>

                    <p>Update on </p>

                    <hr>


                    <img class="img-fluid rounded hide" src="placehold.it/900x300" alt="">


                    <p class="lead">create your blog</p>


                    <div id="content">


                    </div>

                </div>

            </div>

            <hr>


            <div class="blog-list"></div>

            <template id="blog-list-tmpl">
                <div class="card mb-4">
                    <img class="card-img-top" src="" alt="">
                    <div class="card-body">
                        <a class="blog-href" href="#">
                            <h2 class="card-title blog-list-title text-dark"></h2>
                        </a>
                        <p class="card-text blog-list-description"></p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="owner-href blog-list-owner"></a>
                        ‧
                        <a href="#" class="blog-list-createtime text-muted"></a>
                    </div>
                </div>
            </template>


            <div id="comment" class="hide">
                <div class="card my-4">
                    <h5 class="card-header">Leave a Comment:</h5>
                    <div class="card-body">
                        <form>
                            <div class="form-group">
                                <textarea class="form-control" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>
                </div>


                <div class="media mb-4">
                    <img class="d-flex mr-3 rounded-circle" src="placehold.it/50x50" alt="">
                    <div class="media-body">
                        <h5 class="mt-0">Commenter Name</h5>
                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.
                        Cras
                        purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac
                        nisi
                        vulputate fringilla. Donec lacinia congue felis in faucibus.
                    </div>
                </div>


                <div class="media mb-4">
                    <img class="d-flex mr-3 rounded-circle" src="placehold.it/50x50" alt="">
                    <div class="media-body">
                        <h5 class="mt-0">Commenter Name</h5>
                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.
                        Cras
                        purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac
                        nisi
                        vulputate fringilla. Donec lacinia congue felis in faucibus.

                        <div class="media mt-4">
                            <img class="d-flex mr-3 rounded-circle" src="placehold.it/50x50" alt="">
                            <div class="media-body">
                                <h5 class="mt-0">Commenter Name</h5>
                                Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante
                                sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
                                Fusce
                                condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in
                                faucibus.
                            </div>
                        </div>

                        <div class="media mt-4">
                            <img class="d-flex mr-3 rounded-circle" src="placehold.it/50x50" alt="">
                            <div class="media-body">
                                <h5 class="mt-0">Commenter Name</h5>
                                Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante
                                sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
                                Fusce
                                condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in
                                faucibus.
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>


        <div class="col-md-4">


            <div class="card my-4 hide">
                <h5 class="card-header">Tag</h5>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="list-unstyled mb-0">
                                <li>
                                    <a href="#">Web Design</a>
                                </li>
                                <li>
                                    <a href="#">HTML</a>
                                </li>
                                <li>
                                    <a href="#">Freebies</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <ul class="list-unstyled mb-0">
                                <li>
                                    <a href="#">JavaScript</a>
                                </li>
                                <li>
                                    <a href="#">CSS</a>
                                </li>
                                <li>
                                    <a href="#">Tutorials</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>


            <div class="card my-4 ">
                <h5 class="card-header">Path</h5>
                <div class="card-body">
                    <a href="../..">
                        我的雲端硬碟
                    </a>
                    <span>
                    <svg class="a-nEbBXb-c a-s-fa-Ha-pa" width="24px" height="24px" fill="#000000">
                      <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path>
                    </svg>
                  </span>
                    temp
                </div>
            </div>

        </div>

    </div>


</div>



<footer class="py-5 bg-dark">
    <div class="container ">
        <div class="row">
            <p class="m-0 text-center text-white">
                Powered by
                <a href="#">
                    Creater
                </a>
            </p>
        </div>
    </div>

</footer>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
<script>
    blogTypeInvert = {
        1: "project",
        2: "article"
    };

    let filler = {
        "blog-list-owner":["text", "nickname"],
        "owner-href": ["href", "ouniquename"],
        "blog-href": ["href", "burlpath"]
    };

    let meta = JSON.parse($("#meta").text());
    let path = window.location.pathname.split("/").slice(1);
    rend_root();

    function rend_root() {
        let sub = {
            "blog-list-title": ["text", "bname"],
            "blog-list-description": ["text", "bdescription"],
            "blog-list-createtime": ["text", "bcreatetime"],
        };

        let result = "";
        for (let i = 0;i < meta.length;i ++){
            result += fill_content("#blog-list-tmpl", meta[i], Object.assign(filler, sub), 1);
        }
        $("div.blog-list").html(result);
    }

    function rend_blog() {
        let sub = {
            "blog-list-title": ["text", "subBname"],
            "blog-list-description": ["text", "subBdescription"],
            "blog-list-createtime": ["text", "subBcreatetime"],
        };

        split_strs(meta, Object.values(sub));
        $("div.blog-list").html(fill_content("#blog-list-tmpl", meta, Object.assign(filler, sub), data.subBname.length));
    }

    function rend_path() {

    }

    // split string to array
    function split_strs(data, targets) {
        targets.forEach(target => {
            data[target] = data[target].split("  ");
        })
    }

    // get template and fill with data
    function fill_content(tmplid, data, filler, len) {
        let tmpl = get_tmpl(tmplid);
        let result = "";
        for (let i = 0; i < len; i++) {
            fill_tmpl(tmpl, data, filler, i);
            result += tmpl[0].outerHTML;
        }
        return result
    }

    function get_tmpl(target) {
        let html = $(target).html();
        return $(html).clone();
    }

    function fill_tmpl(tmpl, data, filler, index) {
        let value = "";
        for (let [k, v] of Object.entries(filler)) {
            if (Array.isArray(data[v[1]])) {
                value = data[v[1]][index];
            } else {
                value = data[v[1]];
            }

            if (v[0] === "text") {
                fill_text(tmpl.find("." + k), value);
            }
            else{
                fill_attr(tmpl.find("." + k), v[0], value);
            }
        }
    }

    function fill_text(node, value) {
        node.text(value);
    }

    function fill_attr(node, attr, value) {
        if (attr === "href"){
            node.attr(attr, "/"+value);
        }
        else {
            node.attr(attr, value);
        }
    }

</script>
</body>

</html>